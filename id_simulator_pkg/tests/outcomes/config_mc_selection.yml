name: test_inference
start_date: 2020-04-01
end_date: 2020-05-15
nsimulations: 1
dt: 0.25

spatial_setup:
  base_path: data
  setup_name: test1
  geodata: geodata.csv
  mobility: mobility.csv
  popnodes: population
  nodenames: geoid
  census_year: 2018
  modeled_states:
    - HI

outcomes:
  method: delayframe
  param_from_file: False
  scenarios:
    - high_death_rate
  settings:
  ### 3 examples of sourcing incidH with the new syntax:
  ### 1. same old syntax. 
  ### the source will be the sum of the incidence of infection_stage I1, accross all other meta_compartments.
    incidH_from_all_compatibility:
        source: incidI
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
  ### 2. Same thing as before but using the new syntax 
    incidH_from_all_implicit:
        source: 
          incidence:
            infection_stage: "I1"
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
    ### 3. Same thing as before but using the new syntax, but explicitely.
    incidH_from_all_explicit:                              
        source: 
          incidence:
            infection_stage: "I1"
            vaccination_stage: ["0dose", "1dose", "2dose"]
            variant_type: ["var0", "var1"]
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
  ### 3 different incidH for each dose, and then a sum that combine them together. Here it's possible 
  ### to have different NPIs and probabilities for e.g different doses.
    high_death_rate:
      incidH_0dose:
        source: 
          incidence:
            infection_stage: ["I1"]                             
            vaccination_stage: ["0dose"]
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: incidH_0dose_curr
      incidH_1dose:
        source: 
          incidence:
            infection_stage: ["I1"]
            vaccination_stage: "1dose"
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: incidH_1dose_curr
      incidH_2dose:
        source: 
          incidence:
            infection_stage: ["I1"]
            vaccination_stage: ["2dose"]
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: incidH_2dose_curr
      incidH_from_sum:                                              
        sum: ['incidH_2dose', 'incidH_1dose', 'incidH_0dose']
      

