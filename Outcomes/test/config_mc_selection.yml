name: test_inference
start_date: 2020-04-01
end_date: 2020-05-15
nsimulations: 1
dt: 0.25

spatial_setup:
  base_path: data
  setup_name: test1
  geodata: geodata.csv
  mobility: mobility.csv
  popnodes: population
  nodenames: geoid
  census_year: 2018
  modeled_states:
    - HI

outcomes:
  method: delayframe
  param_from_file: False
  scenarios:
    - high_death_rate
  settings:
    high_death_rate:
      incidH_0dose:
        source: 
          incidence:
            infection_stage: ["I1"]
            vaccination_stage: ["0dose"]
          # variant_type: ["var0", "var1"] no need for this, it incidence
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: incidH_0dose_curr
      incidH_1dose:
        source: 
          incidence:
            infection_stage: ["I1"]
            vaccination_stage: "1dose"
          # variant_type: ["var0", "var1"] no need for this if there is two variant because it sums on everything else
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: incidH_1dose_curr
      incidH_2dose:
        source: 
          incidence:
            infection_stage: ["I1"]
            vaccination_stage: ["2dose"]
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: incidH_2dose_curr
      incidH_from_sum:                                                # one way of having from everything: summing sub_outcomes
        sum: ['incidH_2dose', 'incidH_1dose', 'incidH_0dose']
      incidH_from_all_implicit:                                       # f all probabilities are the same then this does the same thing (implicitely)
        source: 
          incidence:
            infection_stage: "I1"
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
      incidH_from_all_explicit:                                     # if all probabilities are the same then this works too (explicitely secifying)
        source: 
          incidence:
            infection_stage: "I1"
            vaccination_stage: ["0dose", "1dose", "2dose"]
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
      incidH_from_all_compatibility:                                     # For compatibility this work too.
        source: incidI
        probability:
          value:
            distribution: fixed
            value: .1
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr