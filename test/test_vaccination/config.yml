name: test_simple
start_date: 2020-01-31
end_date: 2020-05-31
nsimulations: 1
dt: 0.25

spatial_setup:
  base_path: data
  setup_name: test1
  geodata: geodata.csv
  mobility: mobility.txt
  popnodes: population
  nodenames: geoid

seeding:
  method: PoissonDistributed
  lambda_file: data/seeding.csv

seir:
  parameters:
    sigma: 1 / 5.2
    gamma:
      distribution: uniform
      low: 1 / 6
      high: 1 / 2.6
    R0s:
      distribution: uniform
      low: 2
      high: 3
    parallel_structure:
      compartments:
        unvaccinated:
          transmissibility_reduction:
            distribution: fixed
            value: 0
          susceptibility_reduction:
            distribution: fixed
            value: 0
        first_dose:
          transmissibility_reduction:
            distribution: fixed
            value: 0
          susceptibility_reduction:
            distribution: fixed
            value: .5
        second_dose:
          transmissibility_reduction:
            distribution: fixed
            value: 0
          susceptibility_reduction:
            distribution: fixed
            value: .95
      transitions:
        - from: unvaccinated
          to: first_dose
          rate:
            distribution: fixed
            value: 0
        - from: first_dose
          to: second_dose
          rate:
            distribution: fixed
            value: 0

interventions:
  scenarios:
    - early_vaccination
    - late_vaccination
  settings:
    None:
      template: Reduce
      parameter: r0
      period_start_date: 2020-04-01
      period_end_date: 2020-05-15
      value:
        distribution: fixed
        value: 0
    Dose1_early:
      template: Reduce
      parameter: "transition_rate 0"
      period_start_date: 2020-02-01
      period_end_date: 2020-02-03
      value:
        distribution: fixed
        value: 0.9
    Dose2_early:
      template: Reduce
      parameter: "transition_rate 1"
      period_start_date: 2020-02-01
      period_end_date: 2020-02-03
      value:
        distribution: fixed
        value: 0.9
    Dose1_late:
      template: Reduce
      parameter: "transition_rate 0"
      period_start_date: 2020-03-01
      period_end_date: 2020-03-03
      value:
        distribution: fixed
        value: 0.9
    Dose2_late:
      template: Reduce
      parameter: "transition_rate 1"
      period_start_date: 2020-03-01
      period_end_date: 2020-03-03
      value:
        distribution: fixed
        value: 0.9
    early_vaccination:
      template: Stacked
      scenarios:
        - Dose1_early
        - Dose2_early
    late_vaccination:
      template: Stacked
      scenarios:
        - Dose1_late
        - Dose2_late

outcomes:
  method: delayframe
  param_from_file: FALSE
  scenarios:
    - low
    - med
  settings:
    med:
      incidH:
        source: incidI
        probability:
          value:
            distribution: fixed
            value: .035
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
      incidD:
        source: incidI
        probability:
          value:
            distribution: fixed
            value: .005
        delay:
          value:
            distribution: fixed
            value: 20
      incidICU:
        source: incidH
        probability:
          value:
            distribution: fixed
            value: 0.167
        delay:
          value:
            distribution: fixed
            value: 3
        duration:
          value:
            distribution: fixed
            value: 8
          name: icu_curr
      incidVent:
        source: incidICU
        probability:
          value:
            distribution: fixed
            value: 0.463
        delay:
          value:
            distribution: fixed
            value: 1
        duration:
          value:
            distribution: fixed
            value: 7
          name: vent_curr
      incidC:
        source: incidI
        probability:
          value:
            distribution: truncnorm
            mean: .1
            sd: .1
            a: 0
            b: 1
          perturbation:
            distribution: truncnorm
            mean: 0
            sd: .1
            a: -1
            b: 1
        delay:
          value:
            distribution: fixed
            value: 7
    low:
      incidH:
        source: incidI
        probability:
          value:
            distribution: fixed
            value: .0175
        delay:
          value:
            distribution: fixed
            value: 7
        duration:
          value:
            distribution: fixed
            value: 7
          name: hosp_curr
      incidD:
        source: incidI
        probability:
          value:
            distribution: fixed
            value: .0025
        delay:
          value:
            distribution: fixed
            value: 20
      incidICU:
        source: incidH
        probability:
          value:
            distribution: fixed
            value: 0.167
        delay:
          value:
            distribution: fixed
            value: 3
        duration:
          value:
            distribution: fixed
            value: 8
          name: icu_curr
      incidVent:
        source: incidICU
        probability:
          value:
            distribution: fixed
            value: 0.463
        delay:
          value:
            distribution: fixed
            value: 1
        duration:
          value:
            distribution: fixed
            value: 7
          name: vent_curr
      incidC:
        source: incidI
        probability:
          value:
            distribution: truncnorm
            mean: .1
            sd: .1
            a: 0
            b: 1
          perturbation:
            distribution: truncnorm
            mean: 0
            sd: .1
            a: -1
            b: 1
        delay:
          value:
            distribution: fixed
            value: 7
